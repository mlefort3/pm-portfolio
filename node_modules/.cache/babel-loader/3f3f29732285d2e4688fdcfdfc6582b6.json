{"ast":null,"code":"var _jsxFileName = \"/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/pages/MyProfile.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Paper from '@mui/material/Paper';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport SideMenu from './../components/SideMenu';\nimport CardHeader from '@mui/material/CardHeader';\nimport Grid from '@mui/material/Grid';\nimport Copyright from './../components/Copyright';\nimport Avatar from '@mui/material/Avatar';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport ManageAccountsOutlinedIcon from '@mui/icons-material/ManageAccountsOutlined';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from './../theme';\nimport validateToken from './../requests/ValidateToken';\nimport axios from \"axios\";\nimport SuccessAlert from './../components/SuccessAlert';\nimport ErrorAlert from './../components/ErrorAlert';\nimport Stack from '@mui/material/Stack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyProfile = () => {\n  _s();\n\n  const settingsLogged = ['Mon profil', 'Mes paramètres', 'Ma contraception'];\n  const pagenumber = 0;\n  const [status, setStatus] = React.useState(0);\n  const [email, setEmail] = React.useState('');\n  const [username, setUsername] = React.useState('');\n  const [isCurrentPasswordValid, setIsCurrentPasswordValid] = React.useState(false);\n  const [isNewPasswordOneValid, setIsNewPasswordOneValid] = React.useState(false);\n  const [isNewPasswordTwoValid, setIsNewPasswordTwoValid] = React.useState(false);\n  const [currentPassword, setCurrentPassword] = React.useState(\"\");\n  const [newPasswordOne, setNewPasswordOne] = React.useState(\"\");\n  const [newPasswordTwo, setNewPasswordTwo] = React.useState(\"\");\n  const [editMode, setEditMode] = React.useState(false);\n  const [profileChangesOK, setProfileChangesOK] = React.useState(false);\n  const [passwordChangesOK, setPasswordChangesOK] = React.useState(false);\n  const [profileChangesKO, setProfileChangesKO] = React.useState(false);\n  const [passwordChangesKO, setPasswordChangesKO] = React.useState(false);\n  React.useEffect(() => {\n    const checkToken = async () => {\n      await validateToken({\n        status,\n        setStatus\n      });\n    };\n\n    checkToken() // make sure to catch any error\n    .catch(console.error);\n\n    const fetchProfileInfo = async () => {\n      await axios.get(\"/api/me\", {\n        withCredentials: true\n      }).then(function (response) {\n        if (response.status === 200) {\n          setEmail(response.data[0].email);\n          setUsername(response.data[0].username);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    fetchProfileInfo() // make sure to catch any error\n    .catch(console.error);\n  }, []);\n\n  function openEditMode() {\n    setEditMode(true);\n  }\n\n  var passwordValidator = require('password-validator');\n\n  var schema = new passwordValidator();\n  schema.is().min(8) // Minimum length 8\n  .is().max(24) // Maximum length 24\n  .has().uppercase() // Must have uppercase letters\n  .has().lowercase() // Must have lowercase letters\n  .has().digits(1) // Must have at least 2 digits\n  .has().symbols(1);\n\n  const handleUsernameChange = event => {\n    setUsername(event.target.value);\n  };\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n\n  const handlePasswordChange = event => {\n    setIsCurrentPasswordValid(false);\n    setCurrentPassword(event.target.value);\n    checkPassword(event.target.value);\n  };\n\n  const handlePasswordOneChange = event => {\n    setNewPasswordOne(event.target.value);\n    setIsNewPasswordOneValid(schema.validate(event.target.value));\n  };\n\n  const handlePasswordTwoChange = event => {\n    setNewPasswordTwo(event.target.value);\n\n    if (event.target.value === newPasswordOne) {\n      setIsNewPasswordTwoValid(true);\n    }\n  };\n\n  async function checkPassword(password) {\n    await axios.post(\"api/verify_password\", {\n      password: password\n    }, {\n      withCredentials: true\n    }).then(function (response) {\n      if (response.status === 200) {\n        setIsCurrentPasswordValid(true);\n      } else {\n        setIsCurrentPasswordValid(false);\n        console.log(response);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async function updateProfile(username, email) {\n    await axios.put(\"/api/update_profile\", {\n      username: username,\n      email: email\n    }, {\n      withCredentials: true,\n      CacheControl: \"Public\"\n    }).then(function (response) {\n      if (response.status === 200) {\n        console.log(response);\n      } else {\n        console.log(response);\n      }\n    }).catch(function (error) {\n      console.log(error.toJSON());\n    });\n  }\n\n  async function updatePassword(currentPassword, newPasswordTwo) {\n    await axios.put(\"/api/update_password\", {\n      currentPassword: currentPassword,\n      newPassword: newPasswordTwo\n    }, {\n      withCredentials: true,\n      CacheControl: \"Public\"\n    }).then(function (response) {\n      if (response.status === 200) {\n        console.log(response);\n      } else {\n        console.log(response);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  async function handleSaveChanges(username, email, currentPassword, newPasswordTwo, isCurrentPasswordValid, isNewPasswordTwoValid) {\n    if (isCurrentPasswordValid) {\n      await updateProfile(username, email);\n\n      if (isNewPasswordTwoValid) {\n        await updatePassword(currentPassword, newPasswordTwo);\n        setProfileChangesOK(true);\n        setPasswordChangesOK(true);\n      } else {\n        setProfileChangesOK(true);\n      }\n    } else {\n      setProfileChangesKO(true);\n      setPasswordChangesKO(true);\n    }\n\n    setCurrentPassword(\"\");\n    setNewPasswordOne(\"\");\n    setNewPasswordTwo(\"\");\n    setEditMode(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [status !== 200 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Vous devez \\xEAtre connect\\xE9.e pour acc\\xE9der \\xE0 cette page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }, this), status === 200 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          sx: {\n            display: {\n              xs: 'none',\n              md: 'flex'\n            }\n          },\n          item: true,\n          md: 2,\n          children: /*#__PURE__*/_jsxDEV(SideMenu, {\n            pages: settingsLogged,\n            pagenumber: pagenumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 9,\n          xs: 12,\n          children: [profileChangesOK && passwordChangesOK && /*#__PURE__*/_jsxDEV(SuccessAlert, {\n            message: \"Les informations de votre profil et votre mot de passe ont \\xE9t\\xE9 chang\\xE9s avec succ\\xE8s.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 54\n          }, this), profileChangesOK && !passwordChangesOK && !passwordChangesKO && /*#__PURE__*/_jsxDEV(SuccessAlert, {\n            message: \"Les informations de votre profil ont \\xE9t\\xE9 chang\\xE9es avec succ\\xE8s.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 77\n          }, this), profileChangesOK && passwordChangesKO && /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(ErrorAlert, {\n              message: \"Le mot de passe n'a pas pu \\xEAtre modifi\\xE9, veuillez r\\xE9essayer.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(SuccessAlert, {\n              message: \"Les informations de votre profil ont \\xE9t\\xE9 chang\\xE9es avec succ\\xE8s.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), profileChangesKO && /*#__PURE__*/_jsxDEV(ErrorAlert, {\n            message: \"Une erreur est survenue, veuillez r\\xE9essayer.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              textAlign: \"justify\",\n              minHeight: 400,\n              mx: 5,\n              my: 5,\n              px: 5,\n              backgroundColor: '#FFFFFF',\n              border: 1,\n              borderColor: '#000000',\n              borderRadius: 5\n            },\n            children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n              theme: theme,\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    m: 1,\n                    bgcolor: 'secondary.main'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ManageAccountsOutlinedIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 17\n                }, this),\n                title: \"Mon profil\",\n                titleTypographyProps: {\n                  variant: \"h4\",\n                  color: \"secondary.main\"\n                },\n                subheader: \"Modifiez ici les informations de votre profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                component: \"form\",\n                noValidate: true,\n                sx: {\n                  mt: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  margin: \"normal\",\n                  required: true,\n                  fullWidth: true,\n                  id: \"username\",\n                  label: \"Nom d'utilisateur\",\n                  name: \"user\",\n                  value: username !== null && username !== void 0 ? username : \"\",\n                  onChange: handleUsernameChange,\n                  disabled: !editMode,\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  sx: {\n                    \"text-align\": \"justify\"\n                  },\n                  children: \"Ce nom d'utilisateur sera affich\\xE9 sur votre interface.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  margin: \"normal\",\n                  required: true,\n                  fullWidth: true,\n                  id: \"email\",\n                  label: \"Adresse e-mail\",\n                  name: \"email\",\n                  autoComplete: \"email\",\n                  value: email !== null && email !== void 0 ? email : \"\",\n                  onChange: handleEmailChange,\n                  disabled: !editMode,\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  sx: {\n                    \"text-align\": \"justify\"\n                  },\n                  children: \"L'adresse e-mail ne servira qu'uniquement \\xE0 valider le compte et r\\xE9initialiser le mot de passe si n\\xE9cessaire.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(TextField, {\n                    margin: \"normal\",\n                    required: true,\n                    fullWidth: true,\n                    name: \"password\",\n                    label: \"Mot de passe actuel\",\n                    type: \"password\",\n                    id: \"password\",\n                    autoComplete: \"current-password\",\n                    value: currentPassword !== null && currentPassword !== void 0 ? currentPassword : \"\",\n                    onChange: handlePasswordChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: isCurrentPasswordValid ? \"green\" : \"red\",\n                    sx: {\n                      \"text-align\": \"justify\"\n                    },\n                    children: isCurrentPasswordValid ? \"Le mot de passe actuel est correct.\" : \"Le mot de passe indiqué est incorrect.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                    margin: \"normal\",\n                    required: true,\n                    fullWidth: true,\n                    name: \"password2\",\n                    label: \"Nouveau mot de passe\",\n                    type: \"password\",\n                    id: \"password2\",\n                    value: newPasswordOne !== null && newPasswordOne !== void 0 ? newPasswordOne : \"\",\n                    onChange: handlePasswordOneChange,\n                    autoComplete: \"current-password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 21\n                  }, this), newPasswordOne && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: isNewPasswordOneValid ? \"green\" : \"red\",\n                    sx: {\n                      \"text-align\": \"justify\"\n                    },\n                    children: isNewPasswordOneValid ? \"Le mot de passe remplit tous les critères.\" : \"Le mot de passe doit être entre 8 et 24 caractères, et contenir au minimum une lettre minuscule, une majuscule et un caractère spécial.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 21\n                  }, this), !newPasswordOne && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      \"text-align\": \"justify\"\n                    },\n                    children: \"Le mot de passe doit \\xEAtre entre 8 et 24 caract\\xE8res, et contenir au minimum une lettre minuscule, une majuscule et un caract\\xE8re sp\\xE9cial.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                    margin: \"normal\",\n                    required: true,\n                    fullWidth: true,\n                    name: \"password3\",\n                    label: \"Confirmez votre nouveau mot de passe\",\n                    type: \"password\",\n                    id: \"password3\",\n                    value: newPasswordTwo !== null && newPasswordTwo !== void 0 ? newPasswordTwo : \"\",\n                    onChange: handlePasswordTwoChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this), newPasswordTwo && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: isNewPasswordTwoValid ? \"green\" : \"red\",\n                    sx: {\n                      \"text-align\": \"justify\"\n                    },\n                    children: isNewPasswordTwoValid ? \"Les deux mots de passe sont identiques.\" : \"Les deux mots de passe doivent être identiques.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 21\n                  }, this), !newPasswordTwo && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      \"text-align\": \"justify\"\n                    },\n                    children: \"Les deux mots de passe doivent \\xEAtre identiques.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this), editMode && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  fullWidth: true,\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  disabled: !isCurrentPasswordValid,\n                  sx: {\n                    mt: 3,\n                    mb: 2\n                  },\n                  onClick: () => handleSaveChanges(username, email, currentPassword, newPasswordTwo, isCurrentPasswordValid, isNewPasswordTwoValid),\n                  children: \"Sauvegarder les changements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), !editMode && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  fullWidth: true,\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  sx: {\n                    mt: 3,\n                    mb: 2\n                  },\n                  onClick: openEditMode,\n                  children: \"Modifier les informations de mon profil\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MyProfile, \"TX5t7Uzwc5ZYrInllppNjIy90M0=\");\n\n_c = MyProfile;\nexport default MyProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyProfile\");","map":{"version":3,"names":["React","Paper","Button","Typography","SideMenu","CardHeader","Grid","Copyright","Avatar","TextField","Box","ManageAccountsOutlinedIcon","ThemeProvider","theme","validateToken","axios","SuccessAlert","ErrorAlert","Stack","MyProfile","settingsLogged","pagenumber","status","setStatus","useState","email","setEmail","username","setUsername","isCurrentPasswordValid","setIsCurrentPasswordValid","isNewPasswordOneValid","setIsNewPasswordOneValid","isNewPasswordTwoValid","setIsNewPasswordTwoValid","currentPassword","setCurrentPassword","newPasswordOne","setNewPasswordOne","newPasswordTwo","setNewPasswordTwo","editMode","setEditMode","profileChangesOK","setProfileChangesOK","passwordChangesOK","setPasswordChangesOK","profileChangesKO","setProfileChangesKO","passwordChangesKO","setPasswordChangesKO","useEffect","checkToken","catch","console","error","fetchProfileInfo","get","withCredentials","then","response","data","log","openEditMode","passwordValidator","require","schema","is","min","max","has","uppercase","lowercase","digits","symbols","handleUsernameChange","event","target","value","handleEmailChange","handlePasswordChange","checkPassword","handlePasswordOneChange","validate","handlePasswordTwoChange","password","post","updateProfile","put","CacheControl","toJSON","updatePassword","newPassword","handleSaveChanges","display","xs","md","textAlign","minHeight","mx","my","px","backgroundColor","border","borderColor","borderRadius","m","bgcolor","variant","color","mt","mb"],"sources":["/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/pages/MyProfile.js"],"sourcesContent":["import React from 'react'\nimport Paper from '@mui/material/Paper';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport SideMenu from './../components/SideMenu';\nimport CardHeader from '@mui/material/CardHeader';\nimport Grid from '@mui/material/Grid';\nimport Copyright from './../components/Copyright';\nimport Avatar from '@mui/material/Avatar';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport ManageAccountsOutlinedIcon from '@mui/icons-material/ManageAccountsOutlined';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from './../theme';\nimport validateToken from './../requests/ValidateToken';\nimport axios from \"axios\";\nimport SuccessAlert from './../components/SuccessAlert';\nimport ErrorAlert from './../components/ErrorAlert';\nimport Stack from '@mui/material/Stack'\n\n\n\nconst MyProfile = () => {\n  const settingsLogged = ['Mon profil', 'Mes paramètres', 'Ma contraception'];\n  const pagenumber = 0;\n  const [status, setStatus] = React.useState(0);\n\n  const [email, setEmail] = React.useState('');\n  const [username, setUsername] = React.useState('');\n\n  const [isCurrentPasswordValid, setIsCurrentPasswordValid] = React.useState(false);\n  const [isNewPasswordOneValid, setIsNewPasswordOneValid] = React.useState(false);\n  const [isNewPasswordTwoValid, setIsNewPasswordTwoValid] = React.useState(false);\n\n  const [currentPassword, setCurrentPassword] = React.useState(\"\");\n  const [newPasswordOne, setNewPasswordOne] = React.useState(\"\");\n  const [newPasswordTwo, setNewPasswordTwo] = React.useState(\"\");\n\n  const [editMode, setEditMode] = React.useState(false);\n\n  const [profileChangesOK, setProfileChangesOK] = React.useState(false);\n  const [passwordChangesOK, setPasswordChangesOK] = React.useState(false);\n  const [profileChangesKO, setProfileChangesKO] = React.useState(false);\n  const [passwordChangesKO, setPasswordChangesKO] = React.useState(false);\n\n  React.useEffect(() => {\n\n      const checkToken = async () => { \n        await validateToken({status, setStatus});\n      }\n\n      checkToken()\n      // make sure to catch any error\n      .catch(console.error);\n\n      const fetchProfileInfo = async () => {\n\n        await axios.get(\"/api/me\",{withCredentials:true})\n        .then(function (response) {\n          if (response.status===200) {\n            setEmail(response.data[0].email)\n            setUsername(response.data[0].username)\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      }\n      fetchProfileInfo()\n      // make sure to catch any error\n      .catch(console.error);\n\n     }, []);\n\n     function openEditMode () { \n       setEditMode(true);\n     }\n\n\n     var passwordValidator = require('password-validator');\n     var schema = new passwordValidator();\n     schema\n   .is().min(8)                                    // Minimum length 8\n   .is().max(24)                                  // Maximum length 24\n   .has().uppercase()                              // Must have uppercase letters\n   .has().lowercase()                              // Must have lowercase letters\n   .has().digits(1)                                // Must have at least 2 digits\n   .has().symbols(1)\n\n   const handleUsernameChange = (event) => { \n     setUsername(event.target.value);\n   };\n\n   const handleEmailChange = (event) => { \n    setEmail(event.target.value);\n   };\n\n   const handlePasswordChange = (event) => { \n     setIsCurrentPasswordValid(false);\n     setCurrentPassword(event.target.value);\n     checkPassword(event.target.value);\n   };\n\n   const handlePasswordOneChange = (event) => { \n     setNewPasswordOne(event.target.value);\n     setIsNewPasswordOneValid(schema.validate(event.target.value));\n   };\n\n   const handlePasswordTwoChange = (event) => { \n     setNewPasswordTwo(event.target.value);\n     if (event.target.value===newPasswordOne) {\n       setIsNewPasswordTwoValid(true);\n    }\n   };\n\n   async function checkPassword(password) {\n\n     await axios.post(\"api/verify_password\", {password:password}, {withCredentials:true})\n     .then(function (response) {\n       if (response.status===200) {\n         setIsCurrentPasswordValid(true);\n       }\n       else {\n         setIsCurrentPasswordValid(false);\n         console.log(response);\n       }\n     })\n     .catch(function (error) {\n       console.log(error);\n     });\n   }\n\n   async function updateProfile(username, email) {\n\n       await axios.put(\"/api/update_profile\", {username: username, email: email}, {withCredentials:true, CacheControl: \"Public\"})\n       .then(function (response) {\n         if (response.status===200) {\n           console.log(response);\n         }\n         else {\n           console.log(response);\n         }\n       })\n       .catch(function (error) {\n         console.log(error.toJSON());\n       });\n     }\n\n     async function updatePassword(currentPassword, newPasswordTwo) {\n\n       await axios.put(\"/api/update_password\", {currentPassword: currentPassword, newPassword: newPasswordTwo}, {withCredentials:true, CacheControl: \"Public\"})\n       .then(function (response) {\n         if (response.status===200) {\n           console.log(response);\n         }\n         else {\n           console.log(response);\n         }\n       })\n       .catch(function (error) {\n         console.log(error);\n       });\n     }\n\n    async function handleSaveChanges(username, email, currentPassword, newPasswordTwo, isCurrentPasswordValid, isNewPasswordTwoValid) {\n      if (isCurrentPasswordValid) {\n        await updateProfile(username, email)\n        if (isNewPasswordTwoValid) {\n          await updatePassword(currentPassword, newPasswordTwo)\n          setProfileChangesOK(true);\n          setPasswordChangesOK(true);\n        }\n        else {\n          setProfileChangesOK(true);\n        }\n      }\n      else {\n        setProfileChangesKO(true);\n        setPasswordChangesKO(true);\n      }\n      setCurrentPassword(\"\");\n      setNewPasswordOne(\"\");\n      setNewPasswordTwo(\"\");\n      setEditMode(false);\n    }\n\n    return (\n        <div>\n        { status !== 200 &&\n          <div>\n          <h2>Vous devez être connecté.e pour accéder à cette page.\n          </h2>\n          </div>\n        }\n\n        {status===200 &&\n          <div>\n        <Grid container >\n          <Grid sx={{display:{xs:'none',md:'flex'}}} item md={2}>\n            <SideMenu pages={ settingsLogged } pagenumber={pagenumber}/>\n          </Grid>\n          <Grid item md={9} xs={12}>\n          { profileChangesOK && passwordChangesOK && <SuccessAlert message=\"Les informations de votre profil et votre mot de passe ont été changés avec succès.\" />}\n          { profileChangesOK && !passwordChangesOK && !passwordChangesKO && <SuccessAlert message=\"Les informations de votre profil ont été changées avec succès.\" />}\n          { profileChangesOK && passwordChangesKO &&\n            <Stack spacing={2}>\n            <ErrorAlert message=\"Le mot de passe n'a pas pu être modifié, veuillez réessayer.\" />\n            <SuccessAlert message=\"Les informations de votre profil ont été changées avec succès.\" />\n            </Stack>\n          }\n          { profileChangesKO && <ErrorAlert message=\"Une erreur est survenue, veuillez réessayer.\" />}\n            <Paper sx={{textAlign:\"justify\",minHeight:400,mx:5,my:5,px:5,backgroundColor:'#FFFFFF',border:1,borderColor:'#000000',borderRadius:5}}>\n            <ThemeProvider theme={theme}>\n            <CardHeader\n              avatar={\n                <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                  <ManageAccountsOutlinedIcon />\n                </Avatar>\n              }\n              title=\"Mon profil\" titleTypographyProps={{variant:\"h4\",color:\"secondary.main\"}}\n              subheader=\"Modifiez ici les informations de votre profil\"\n            />\n                  <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n                    <TextField\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      id=\"username\"\n                      label=\"Nom d'utilisateur\"\n                      name=\"user\"\n                      value={username ?? \"\"} onChange={handleUsernameChange}\n                      disabled={!editMode}\n                      autoFocus\n                    />\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{\"text-align\":\"justify\"}}>\n                    Ce nom d'utilisateur sera affiché sur votre interface.\n                    </Typography>\n                    <TextField\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      id=\"email\"\n                      label=\"Adresse e-mail\"\n                      name=\"email\"\n                      autoComplete=\"email\"\n                      value={email ?? \"\"} onChange={handleEmailChange}\n                      disabled={!editMode}\n                      autoFocus\n                    />\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{\"text-align\":\"justify\"}}>\n                    L'adresse e-mail ne servira qu'uniquement à valider le compte et réinitialiser le mot de passe si nécessaire.\n                    </Typography>\n                    { editMode &&\n                      <div>\n                    <TextField\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      name=\"password\"\n                      label=\"Mot de passe actuel\"\n                      type=\"password\"\n                      id=\"password\"\n                      autoComplete=\"current-password\"\n                      value={currentPassword ?? \"\"} onChange={handlePasswordChange}\n                    />\n                    <Typography variant=\"body2\" color={isCurrentPasswordValid ? \"green\" : \"red\"} sx={{\"text-align\":\"justify\"}}>\n                    {isCurrentPasswordValid ? \"Le mot de passe actuel est correct.\" : \"Le mot de passe indiqué est incorrect.\"}\n                    </Typography>\n                    <TextField\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"password2\"\n                    label=\"Nouveau mot de passe\"\n                    type=\"password\"\n                    id=\"password2\"\n                    value={newPasswordOne ?? \"\"} onChange={handlePasswordOneChange}\n                    autoComplete=\"current-password\"\n                    />\n                    { newPasswordOne &&\n                    <Typography variant=\"body2\" color={isNewPasswordOneValid ? \"green\" : \"red\"} sx={{\"text-align\":\"justify\"}}>\n                    {isNewPasswordOneValid ? \"Le mot de passe remplit tous les critères.\" : \"Le mot de passe doit être entre 8 et 24 caractères, et contenir au minimum une lettre minuscule, une majuscule et un caractère spécial.\"}\n                    </Typography>\n                  }\n                  { !newPasswordOne &&\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{\"text-align\":\"justify\"}}>\n                      Le mot de passe doit être entre 8 et 24 caractères, et contenir au minimum une lettre minuscule, une majuscule et un caractère spécial.\n                    </Typography>}\n                    <TextField\n                      margin=\"normal\"\n                      required\n                      fullWidth\n                      name=\"password3\"\n                      label=\"Confirmez votre nouveau mot de passe\"\n                      type=\"password\"\n                      id=\"password3\"\n                      value={newPasswordTwo ?? \"\"}\n                      onChange={handlePasswordTwoChange}\n                    />\n                    { newPasswordTwo &&\n                    <Typography variant=\"body2\" color={isNewPasswordTwoValid ? \"green\" : \"red\"} sx={{\"text-align\":\"justify\"}}>\n                    {isNewPasswordTwoValid ? \"Les deux mots de passe sont identiques.\" : \"Les deux mots de passe doivent être identiques.\"}\n                    </Typography>\n                  }\n                  { !newPasswordTwo &&\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{\"text-align\":\"justify\"}}>\n                      Les deux mots de passe doivent être identiques.\n                    </Typography>}\n                    </div>}\n                    { editMode &&\n                    <Button\n                      type=\"button\"\n                      fullWidth\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      disabled={!isCurrentPasswordValid}\n                      sx={{ mt: 3, mb: 2 }}\n                      onClick={() => handleSaveChanges(username,email,currentPassword,newPasswordTwo,isCurrentPasswordValid,isNewPasswordTwoValid)}\n                    >\n                      Sauvegarder les changements\n                    </Button>}\n                    { !editMode &&\n                    <Button\n                      type=\"submit\"\n                      fullWidth\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      sx={{ mt: 3, mb: 2 }}\n                      onClick={openEditMode}\n                    >\n                      Modifier les informations de mon profil\n                    </Button>}\n\n                </Box>\n            </ThemeProvider>\n              </Paper>\n              </Grid>\n              </Grid>\n              <Copyright/>\n              </div>\n            }\n        </div>\n    )\n}\n\nexport default MyProfile\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}