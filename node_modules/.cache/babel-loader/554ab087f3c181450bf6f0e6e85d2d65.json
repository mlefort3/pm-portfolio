{"ast":null,"code":"var _jsxFileName = \"/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/components/AddingSingleEntry.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport TextField from '@mui/material/TextField';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport axios from \"axios\";\nimport Button from '@mui/material/Button';\nimport validateToken from './../requests/ValidateToken';\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\nimport { fr } from \"date-fns/locale\";\nimport Stack from '@mui/material/Stack';\nimport CardHeader from '@mui/material/CardHeader';\nimport Avatar from '@mui/material/Avatar';\nimport AddCircleOutlinedIcon from '@mui/icons-material/AddCircleOutlined';\nimport Typography from '@mui/material/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddingSingleEntry(props) {\n  _s();\n\n  const [status, setStatus] = React.useState(0);\n  const [startingDate, setStartingDate] = React.useState(null);\n  const [endingDate, setEndingDate] = React.useState(null);\n  const {\n    updatePage\n  } = props;\n  React.useEffect(() => {\n    const checkToken = async () => {\n      await validateToken({\n        status,\n        setStatus\n      });\n    };\n\n    checkToken() // make sure to catch any error\n    .catch(console.error);\n  }, []);\n\n  async function addNewEntry(startingDate, endingDate) {\n    console.log(startingDate);\n    const start = startingDate.toISOString().slice(0, 19).replace('T', ' ');\n    const end = endingDate.toISOString().slice(0, 19).replace('T', ' ');\n    await axios.put(\"/api/wearings\", {\n      startingDate: start,\n      endingDate: end,\n      status: 0\n    }, {\n      withCredentials: true,\n      CacheControl: \"Public\"\n    }).then(function (response) {\n      if (response.status === 201) {\n        console.log(response);\n        updatePage();\n      } else {\n        console.log(response);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n    dateAdapter: AdapterDateFns,\n    adapterLocale: fr,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      component: \"h3\",\n      variant: \"h5\",\n      sx: {\n        fontWeight: \"bold\",\n        mb: 2\n      },\n      children: \"Ajout d'une nouvelle entr\\xE9e\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(DateTimePicker, {\n        renderInput: props => /*#__PURE__*/_jsxDEV(TextField, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 31\n        }, this),\n        label: \"D\\xE9but de port\",\n        value: startingDate,\n        onChange: newValue => {\n          setStartingDate(newValue);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DateTimePicker, {\n        renderInput: props => /*#__PURE__*/_jsxDEV(TextField, { ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this),\n        label: \"Fin de port\",\n        value: endingDate,\n        sx: {\n          mt: 2\n        },\n        onChange: newValue => {\n          setEndingDate(newValue);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        variant: \"contained\",\n        color: \"secondary\",\n        sx: {\n          mt: 3,\n          mb: 2\n        },\n        onClick: () => addNewEntry(startingDate, endingDate),\n        children: \"Ajouter une date de port\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddingSingleEntry, \"7jN/OsVFBKWtbUZ8UCfjIy+1v8U=\");\n\n_c = AddingSingleEntry;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddingSingleEntry\");","map":{"version":3,"names":["React","TextField","AdapterDateFns","LocalizationProvider","axios","Button","validateToken","DateTimePicker","fr","Stack","CardHeader","Avatar","AddCircleOutlinedIcon","Typography","AddingSingleEntry","props","status","setStatus","useState","startingDate","setStartingDate","endingDate","setEndingDate","updatePage","useEffect","checkToken","catch","console","error","addNewEntry","log","start","toISOString","slice","replace","end","put","withCredentials","CacheControl","then","response","fontWeight","mb","newValue","mt"],"sources":["/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/components/AddingSingleEntry.js"],"sourcesContent":["import * as React from 'react';\nimport TextField from '@mui/material/TextField';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport axios from \"axios\";\nimport Button from '@mui/material/Button';\nimport validateToken from './../requests/ValidateToken';\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\nimport { fr } from \"date-fns/locale\";\nimport Stack from '@mui/material/Stack';\nimport CardHeader from '@mui/material/CardHeader';\nimport Avatar from '@mui/material/Avatar';\nimport AddCircleOutlinedIcon from '@mui/icons-material/AddCircleOutlined';\nimport Typography from '@mui/material/Typography';\n\nexport default function AddingSingleEntry(props) {\n  const [status, setStatus] = React.useState(0);\n  const [startingDate, setStartingDate] = React.useState(null);\n  const [endingDate, setEndingDate] = React.useState(null);\n\n  const { updatePage } = props;\n\n  React.useEffect(() => {\n\n      const checkToken = async () => { \n        await validateToken({status, setStatus});\n      }\n\n      checkToken()\n      // make sure to catch any error\n      .catch(console.error);\n\n     }, []);\n\n   async function addNewEntry(startingDate, endingDate) {\n\n     console.log(startingDate);\n\n     const start = startingDate.toISOString().slice(0, 19).replace('T', ' ');\n     const end = endingDate.toISOString().slice(0, 19).replace('T', ' ');\n\n     await axios.put(\"/api/wearings\", {startingDate: start, endingDate: end, status: 0}, {withCredentials:true, CacheControl: \"Public\"})\n     .then(function (response) {\n       if (response.status===201) {\n         console.log(response);\n         updatePage();\n       }\n       else {\n         console.log(response);\n       }\n     })\n     .catch(function (error) {\n       console.log(error);\n     });\n   }\n\n  return (\n    <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={fr}>\n        <Typography component=\"h3\" variant=\"h5\" sx={{fontWeight:\"bold\",mb:2}}>\n          Ajout d'une nouvelle entrée\n        </Typography>\n    <Stack spacing={3}>\n    <DateTimePicker\n      renderInput={(props) => <TextField {...props} />}\n      label=\"Début de port\"\n      value={startingDate}\n      onChange={(newValue) => {\n        setStartingDate(newValue);\n      }}\n    />\n    <DateTimePicker\n        renderInput={(props) => <TextField {...props} />}\n        label=\"Fin de port\"\n        value={endingDate}\n        sx={{mt:2}}\n        onChange={(newValue) => {\n          setEndingDate(newValue);\n        }}\n      />\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        color=\"secondary\"\n        sx={{ mt: 3, mb: 2 }}\n        onClick={() => addNewEntry(startingDate,endingDate)}\n      >\n        Ajouter une date de port\n      </Button>\n      </Stack>\n    </LocalizationProvider>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}