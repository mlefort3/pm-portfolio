{"ast":null,"code":"var _jsxFileName = \"/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/pages/MyContraception.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Paper from '@mui/material/Paper';\nimport SideMenu from './../components/SideMenu';\nimport Grid from '@mui/material/Grid';\nimport Copyright from './../components/Copyright';\nimport WearingsTable from './../components/WearingsTable';\nimport CollapsedWearingsTable from './../components/CollapsedWearingsTable';\nimport CalendarView from './../components/CalendarView';\nimport AddingSingleEntry from './../components/AddingSingleEntry';\nimport validateToken from './../requests/ValidateToken';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MySettings = () => {\n  _s();\n\n  const settingsLogged = ['Mon profil', 'Mes paramètres', 'Ma contraception'];\n  const pagenumber = 2;\n  const [status, setStatus] = React.useState(0);\n  const [method, setMethod] = React.useState('');\n  const [contraception, setContraception] = React.useState(false);\n  React.useEffect(() => {\n    const checkToken = async () => {\n      await validateToken({\n        status,\n        setStatus\n      });\n    };\n\n    checkToken() // make sure to catch any error\n    .catch(console.error);\n\n    const fetchSettingsInfo = async () => {\n      await axios.get(\"/api/me\", {\n        withCredentials: true\n      }).then(function (response) {\n        if (response.status === 200) {\n          setMethod(response.data[0].contraceptionMethod);\n\n          if (response.data[0].contracepted === 0) {\n            setContraception(false);\n          }\n\n          if (response.data[0].contracepted === 1) {\n            setContraception(true);\n          }\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    fetchSettingsInfo() // make sure to catch any error\n    .catch(console.error); // eslint-disable-next-line\n  }, []);\n\n  function refreshPage() {\n    window.location.reload(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [status !== 200 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Vous devez \\xEAtre connect\\xE9.e pour acc\\xE9der \\xE0 cette page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), !contraception && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Pour acc\\xE9der \\xE0 cette page, vous devez avoir activ\\xE9 l'option \\\"Je me contracepte\\\" dans vos param\\xE8tres.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), status === 200 && contraception && method === \"thermique\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          sx: {\n            display: {\n              xs: 'none',\n              md: 'flex'\n            }\n          },\n          item: true,\n          md: 2,\n          children: /*#__PURE__*/_jsxDEV(SideMenu, {\n            pages: settingsLogged,\n            pagenumber: pagenumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          md: 10,\n          xs: 12,\n          justifyContent: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 7,\n            sx: {\n              mx: {\n                xs: 5\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CalendarView, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 3,\n            xs: 12,\n            sx: {\n              mx: {\n                xs: 5\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                mt: 2,\n                p: 5\n              },\n              children: /*#__PURE__*/_jsxDEV(AddingSingleEntry, {\n                updatePage: refreshPage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 12,\n            xs: 12,\n            sx: {\n              mx: {\n                xs: 5\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CollapsedWearingsTable, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 12,\n            xs: 12,\n            sx: {\n              mx: {\n                xs: 5\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(WearingsTable, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 7\n  }, this);\n};\n\n_s(MySettings, \"ubD8Kx9S5YmdFXesOdF8lq7SDeQ=\");\n\n_c = MySettings;\nexport default MySettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"MySettings\");","map":{"version":3,"names":["React","Paper","SideMenu","Grid","Copyright","WearingsTable","CollapsedWearingsTable","CalendarView","AddingSingleEntry","validateToken","axios","MySettings","settingsLogged","pagenumber","status","setStatus","useState","method","setMethod","contraception","setContraception","useEffect","checkToken","catch","console","error","fetchSettingsInfo","get","withCredentials","then","response","data","contraceptionMethod","contracepted","log","refreshPage","window","location","reload","display","xs","md","mx","mt","p"],"sources":["/Users/maxencelefort/Documents/GitHub/pm-portfolio/src/pages/MyContraception.js"],"sourcesContent":["import * as React from 'react'\nimport Paper from '@mui/material/Paper';\nimport SideMenu from './../components/SideMenu';\nimport Grid from '@mui/material/Grid';\nimport Copyright from './../components/Copyright';\nimport WearingsTable from './../components/WearingsTable';\nimport CollapsedWearingsTable from './../components/CollapsedWearingsTable';\nimport CalendarView from './../components/CalendarView';\nimport AddingSingleEntry from './../components/AddingSingleEntry';\nimport validateToken from './../requests/ValidateToken';\nimport axios from \"axios\";\n\n\nconst MySettings = () => {\n  const settingsLogged = ['Mon profil', 'Mes paramètres', 'Ma contraception'];\n  const pagenumber = 2;\n\n  const [status, setStatus] = React.useState(0);\n  const [method, setMethod] = React.useState('');\n  const [contraception, setContraception] = React.useState(false);\n\n  React.useEffect(() => {\n\n      const checkToken = async () => { \n        await validateToken({status, setStatus});\n      }\n\n      checkToken()\n      // make sure to catch any error\n      .catch(console.error);\n\n      const fetchSettingsInfo = async () => {\n\n        await axios.get(\"/api/me\",{withCredentials:true})\n        .then(function (response) {\n          if (response.status===200) {\n            setMethod(response.data[0].contraceptionMethod);\n            if (response.data[0].contracepted===0) {\n              setContraception(false);\n            }\n            if (response.data[0].contracepted===1) {\n              setContraception(true);\n            }\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n\n      }\n      fetchSettingsInfo()\n      // make sure to catch any error\n      .catch(console.error);\n      // eslint-disable-next-line\n     }, []);\n\n  function refreshPage() {\n    window.location.reload(false);\n  }\n\n    return (\n      <div>\n      { status !== 200 &&\n        <div>\n        <h2>Vous devez être connecté.e pour accéder à cette page.\n        </h2>\n        </div>\n      }\n\n      { !contraception &&\n        <div>\n        <h2>Pour accéder à cette page, vous devez avoir activé l'option \"Je me contracepte\" dans vos paramètres.\n        </h2>\n        </div>\n      }\n\n      {status===200 && contraception && method===\"thermique\" &&\n        <div>\n        <Grid container>\n          <Grid sx={{display:{xs:'none',md:'flex'}}} item md={2}>\n            <SideMenu pages={ settingsLogged } pagenumber={ pagenumber }/>\n          </Grid>\n          <Grid container item md={10} xs={12} justifyContent=\"space-between\">\n            <Grid item md={7} sx={{mx:{xs:5}}}>\n              <Paper sx={{mt:2}}>\n                <CalendarView/>\n              </Paper>\n            </Grid>\n            <Grid item md={3} xs={12} sx={{mx:{xs:5}}}>\n              <Paper sx={{mt:2,p:5}}>\n                <AddingSingleEntry updatePage={refreshPage}/>\n              </Paper>\n            </Grid>\n            <Grid item md={12} xs={12} sx={{mx:{xs:5}}}>\n            <Paper sx={{mt:2}}>\n              <CollapsedWearingsTable/>\n            </Paper>\n            </Grid>\n            <Grid item md={12} xs={12} sx={{mx:{xs:5}}}>\n            <Paper sx={{mt:2}}>\n              <WearingsTable/>\n            </Paper>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Copyright/>\n        </div>}\n        </div>\n    )\n}\n\nexport default MySettings\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}